@startuml

    actor Restaurante as ator_restaurante
    boundary AcessarRelatorioGUI as fronteira <<boundary>>
    control ControladorAcessarRelatorio as controller <<control>>
    collections "relatorios : Relatorio" as lista_relatorios
    participant Relatorio
    collections "reservas : Reserva" as lista_reservas
    collections "clientes : Cliente" as lista_clientes

    ator_restaurante -> fronteira : Acessa central de relatorios
    activate fronteira
    ator_restaurante -> fronteira : Informa data de início e de fim do filtro de informações
    fronteira -> controller : buscaRelatoriosDisponiveis(restaurante : Restaurante, data_inicio : datetime, data_fim : datetime)
    activate controller
    controller -> lista_relatorios : buscaRelatoriosDisponiveis(restaurante : Restaurante, plano = Restaurante.planoAssociado : Plano)
    activate lista_relatorios
    lista_relatorios --> controller : relatoriosDisponiveis : List<Relatorio>
    deactivate lista_relatorios

    alt Nenhum relatorio disponivel
        controller --> fronteira : response "Nenhum relatorio disponivel"
        fronteira -> fronteira : TelaNenhumRelatorioDisponivel()
    end 

    controller --> fronteira : relatoriosDisponiveis : List<Relatorio>
    fronteira -> fronteira : ListagemRelatorios(relatorios = relatoriosDisponiveis : List<Relatorio>)
    
    ator_restaurante -> fronteira : Seleciona relatorio
    fronteira -> controller : acessaRelatorio(relatorio : Relatorio)
    controller -> Relatorio : getInformacoes(data_inicio : datetime, data_fim : datetime)
    activate Relatorio
    Relatorio -> lista_reservas : filterReservas(data_inicio : datetime, data_fim : datetime)
    activate lista_reservas
    lista_reservas --> Relatorio : reservasPeriodo : List <Reserva>
    deactivate lista_reservas

    Relatorio -> lista_clientes : filterClientes(restaurante : Restaurante, data_inicio : datetime, data_fim : datetime)
    activate lista_clientes
    lista_clientes --> Relatorio : clientesPeriodo : List<Clientes>
    deactivate lista_clientes

    Relatorio --> controller : (reservasPeriodo : List <Reserva>, clientesPeriodo : List<Clientes>)
    deactivate Relatorio
    controller --> fronteira : (reservasPeriodo : List <Reserva>, clientesPeriodo : List<Clientes>)

@enduml
