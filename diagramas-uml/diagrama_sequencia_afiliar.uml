@startuml
actor Cliente
boundary AfiliarGUI <<boundary>>
control ControladorAfiliar <<control>>
participant "Cliente" as cliente
collections "cliente : Cliente" as clientes
 
Cliente -> AfiliarGUI : FazLogin()
activate AfiliarGUI
AfiliarGUI -> ControladorAfiliar : SolicitaLogin(email,senha)
activate ControladorAfiliar
ControladorAfiliar -> clientes : GetCliente(email,senha)
activate clientes
clientes --> ControladorAfiliar : Retorna Dados
deactivate clientes

alt Cliente Existente
    ControladorAfiliar -> ControladorAfiliar : EfetuaLogin()
    activate ControladorAfiliar
    deactivate ControladorAfiliar
    ControladorAfiliar -> AfiliarGUI : MostraSucessoLogin()
    
else Não Existente
    
    ControladorAfiliar -> AfiliarGUI : SolicitarCadastro()
    Cliente -> AfiliarGUI : FazCadastro()
    AfiliarGUI -> ControladorAfiliar : FazerNovoCadastro(email,senha,nome)
    ControladorAfiliar -> cliente : create Cliente(email,senha,nome)
    activate cliente
    alt Cadastro Válido
        cliente -> clientes : adicionarNovoCliente(cliente)
        activate clientes
        clientes --> cliente : cliente adicionado
        deactivate clientes
        cliente --> ControladorAfiliar : Retorna Sucesso
        ControladorAfiliar -> AfiliarGUI : ExibirSucessoCadastro()
    else Cadastro Inválido
        cliente --> ControladorAfiliar : Retorna Erro
        deactivate cliente
        ControladorAfiliar -> AfiliarGUI : ExibirErroCadastro()
    end
    
end

deactivate ControladorAfiliar
deactivate AfiliarGUI


@enduml
