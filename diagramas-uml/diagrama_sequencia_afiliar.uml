@startuml

    actor Cliente as ator_cliente
    boundary AfiliarGUI as fronteira <<boundary>>
    control ControladorAfiliar as controler <<controller>>
    collections "termos : TermoDeUso" as lista_termo
    collections "clientes : Cliente" as lista_clientes
    participant Cliente
    participant TermosDeUso as class_termo

    ator_cliente -> fronteira : Realizar reserva
    activate fronteira
    fronteira -> fronteira : exibirTelaDeAfiliacao()
    ator_cliente -> fronteira : Seleciona "Abrir nova conta" 
    fronteira -> controler : obterTermoDeAfiliacao()
    activate controler

    controler -> lista_termo: obterTermoDeAfiliacao()
    activate lista_termo
    lista_termo --> controler : termoDeAfiliacao : TermoDeUso
    deactivate lista_termo
    controler --> fronteira : termoDeAfiliacao : TermoDeUso
    fronteira -> fronteira : TelaTermoDeAfiliacao(termo = termoDeAfiliacao : TermoDeUso)
    ator_cliente -> fronteira : Informa nome, CPF, email, senha e preferências e aceita termo de afiliação
    ator_cliente -> fronteira : Seleciona opção "confirmar"

    fronteira -> controler : abrirConta(CPF : string, Nome : string, email, preferencias : List<string>, termoAfiliacao = termoDeAfiliacao : TermoDeUso)
    controler -> lista_clientes : solicitarAfiliacaoCliente(CPF : string, Nome : string, email, preferencias : List<string>, termoAfiliacao = termoDeAfiliacao : TermoDeUso)
    activate lista_clientes
    lista_clientes ->  Cliente **: create 
    activate Cliente
    Cliente -> class_termo : assinarTermoDeUso(CPF : string, horario : datetime)
    activate class_termo
    class_termo --> Cliente : msgTermoCadastrado : bool
    deactivate class_termo

    Cliente --> lista_clientes : response "Cliente cadastrado"
    deactivate Cliente 
    lista_clientes --> controler : response "Cadastro realizado"
    deactivate lista_clientes
    controler --> fronteira : response "Cadastro realizado"
    deactivate controler
    fronteira -> fronteira : exibirTelaCadastroConcluido()

@enduml
